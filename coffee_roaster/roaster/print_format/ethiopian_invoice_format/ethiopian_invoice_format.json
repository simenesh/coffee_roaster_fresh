{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-07-24 12:20:25.056982",
 "css": "",
 "custom_format": 1,
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 0,
 "html": "<style>\n  .invoice-header { text-align:center; font-weight:bold; font-size:18px; margin-bottom:10px; }\n  .company-info, .customer-info, .invoice-meta { font-size:12px; }\n  .invoice-table th, .invoice-table td { font-size:12px; border:1px solid #000; padding:4px; }\n  .invoice-summary td { font-size:12px; }\n  .footer { margin-top:40px; font-size:12px; text-align:center; }\n</style>\n\n<div class=\"invoice-header\">\u12f0\u1228\u1230\u129d<br>SALES INVOICE</div>\n\n<!-- Company block: uses {{ company }} exactly as requested -->\n<div class=\"company-info\">\n  <strong>{{ frappe.db.get_value(\"Company\", doc.company, \"company_name\") or doc.company }}</strong><br>\n  {{ frappe.db.get_value(\"Company\", doc.company, \"tax_id\") or \"\" }}<br>\n\n  {% set comp_addr = doc.company_address %}\n  {{ frappe.db.get_value(\"Address\", comp_addr, \"phone\")\n     or frappe.db.get_value(\"Address\", comp_addr, \"phone_no\")\n     or \"\" }}<br>\n  {{ frappe.db.get_value(\"Address\", comp_addr, \"address_display\") or \"\" }}\n  {{ frappe.db.get_value(\"Company\", doc.company, \"vat_registration_number\") or \"\" }}<br>\n\n</div>\n\n\n\n<hr>\n\n<div class=\"invoice-meta\">\n  <b>Invoice No:</b> {{ doc.name }}<br>\n  <b>Date:</b> {{ doc.posting_date }}\n</div>\n\n<div class=\"customer-info\">\n  <b>Customer:</b> {{ doc.customer_name }}<br>\n  <b>TIN:</b> {{ doc.tax_id or \"N/A\" }}<br>\n  <b>Phone:</b> {{ doc.contact_display or \"N/A\" }}<br>\n  <b>Address:</b> {{ doc.customer_address or \"N/A\" }}\n</div>\n\n<hr>\n\n<table class=\"invoice-table\" width=\"100%\" cellspacing=\"0\" cellpadding=\"2\">\n  <thead>\n    <tr><th>#</th><th>Item</th><th>Unit</th><th>Qty</th><th>Rate</th><th>Amount</th></tr>\n  </thead>\n  <tbody>\n    {% for row in doc.items or [] %}\n    <tr>\n      <td>{{ loop.index }}</td>\n      <td>{{ row.item_name }}</td>\n      <td>{{ row.uom or \"Unit\" }}</td>\n      <td>{{ row.qty }}</td>\n      <td>{{ row.rate }}</td>\n      <td>{{ row.amount }}</td>\n    </tr>\n    {% endfor %}\n  </tbody>\n</table>\n\n<br>\n\n{# --- TAX SECTION: robust VAT display --- #}\n{% set vat_total = 0 %}\n{% set vat_rate = None %}\n{% set tax_rows = [] %}\n\n{# Capture all tax rows (including VAT) for a clear, accurate summary #}\n{% for tax in doc.taxes or [] %}\n  {% set _ = tax_rows.append(tax) %}\n  {% if \"VAT\" in (tax.account_head or \"\") or \"VAT\" in (tax.description or \"\") %}\n    {% set vat_total = vat_total + (tax.tax_amount or 0) %}\n    {% if vat_rate is none and tax.rate is not none %}{% set vat_rate = tax.rate %}{% endif %}\n  {% endif %}\n{% endfor %}\n\n<table class=\"invoice-summary\" width=\"45%\" align=\"right\" cellspacing=\"0\" cellpadding=\"2\">\n  <tr>\n    <td><b>Subtotal:</b></td>\n    <td>{{ doc.net_total }}</td>\n  </tr>\n\n  {# Print each tax row (so VAT is never hidden). If no taxes, show nothing here. #}\n  {% for tax in tax_rows %}\n    <tr>\n      <td><b>{{ (tax.description or tax.account_head) | trim }}</b>{% if tax.rate %} ({{ tax.rate }}%){% endif %}:</td>\n      <td>{{ tax.tax_amount }}</td>\n    </tr>\n  {% endfor %}\n\n  {# Fallback VAT line if you still want a dedicated VAT row even when description varies #}\n  {% if vat_total %}\n    <tr>\n      <td><b>VAT{% if vat_rate is not none %} ({{ vat_rate }}%){% endif %}:</b></td>\n      <td>{{ vat_total }}</td>\n    </tr>\n  {% endif %}\n\n  <tr>\n    <td><b>Total (Incl. Taxes):</b></td>\n    <td>{{ doc.grand_total }}</td>\n  </tr>\n\n  {% if doc.rounding_adjustment %}\n  <tr>\n    <td><b>Rounding:</b></td>\n    <td>{{ doc.rounding_adjustment }}</td>\n  </tr>\n  {% endif %}\n\n  {% if doc.rounded_total %}\n  <tr>\n    <td><b>Rounded Total:</b></td>\n    <td>{{ doc.rounded_total }}</td>\n  </tr>\n  {% endif %}\n</table>\n\n<div class=\"footer\">\n  <br><br>\n  <strong>Signature: ___________________________</strong><br>\n  Thank you for your business!\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 0.0,
 "margin_left": 0.0,
 "margin_right": 0.0,
 "margin_top": 0.0,
 "modified": "2025-09-05 00:19:42.752938",
 "modified_by": "Administrator",
 "module": "roaster",
 "name": "Ethiopian Invoice Format",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}